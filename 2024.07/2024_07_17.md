## Today I Learned (2024-07-17) ğŸ¤”

### ì˜¤ëŠ˜ ê³µë¶€í•œ ë‚´ìš© ğŸ§‘ğŸ»â€ğŸ’»

#### 1. íŒŒì´ì¬

- **self**
  - `self`ë¥¼ ì“°ì§€ ì•ŠëŠ” ë©”ì„œë“œëŠ” ì¡´ì¬í•˜ëŠ”ê°€
    - ê²°ë¡ ì€ ì•ˆ ì“°ê³  ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
    - ì˜ˆë¥¼ ë“¤ì–´ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
      - ì˜ˆì‹œ ì½”ë“œ
        ```python
        class MathUtils:
            def add(a, b):
                return a + b

            def subtract(a, b):
                return a - b

        # ì •ì  ë©”ì„œë“œ í˜¸ì¶œ
        print(MathUtils.add(5, 3))      # 8
        print(MathUtils.subtract(5, 3)) # 2
        ```
        > ìœ„ì™€ ê°™ì€ í•¨ìˆ˜ë“¤ì€ ì¸ìŠ¤í„´ìŠ¤ë‚˜ í´ë˜ìŠ¤ ë³€ìˆ˜ì— ì ‘ê·¼í•  í•„ìš”ê°€ ì—†ê¸° ë•Œë¬¸ì— ì •ì  ë©”ì„œë“œë¡œ ì •ì˜í•  ìˆ˜ ìˆë‹¤.

#### 2. ì¸í”„ëŸ°(ë‚˜ë„ì½”ë”©) ğŸŒ±

- **Section 8**
  - í´ë˜ìŠ¤
    - í´ë˜ìŠ¤ì˜ ê¸°ë³¸ êµ¬ì¡°ì™€ ìƒì„±
      - ì˜ˆì‹œ ì½”ë“œ
        ```python
        class Unit:
            def __init__(self, name, hp, damage):
                self.name = name
                self.hp = hp
                self.damage = damage
                print(f"{name} ìœ ë‹›ì´ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤.")
                print(f"ì²´ë ¥ {hp}, ê³µê²©ë ¥ {damage}")

        marine1 = Unit("ë§ˆë¦°", 40, 5)
        marine2 = Unit("ë§ˆë¦°", 40, 5)
        tank = Unit("íƒ±í¬", 150, 35)
        ```

#### 3. KDT(ì²œì¬êµìœ¡)

- **HTML íŒŒì‹±**
  - íŒŒì‹±(parsing): í…ìŠ¤íŠ¸ ë°ì´í„°ë¥¼ `ë¶„ì„`í•˜ì—¬ `êµ¬ì¡°í™”`í•˜ê³ , í•„ìš”ì— ë”°ë¼ íŠ¹ì • ë°ì´í„°ë¥¼ `ì¶”ì¶œ`í•˜ëŠ” ì‘ì—…
  - í¬ë¡¤ë§(crawling): `ì›¹ í¬ë¡¤ëŸ¬ ë¡œë´‡`ì´ ìë™ìœ¼ë¡œ ì›¹ ì‚¬ì´íŠ¸ë¥¼ ì´ë™í•˜ë©° ì •ë³´ë¥¼ ìˆ˜ì§‘í•˜ëŠ” ê²ƒ
    - `robots.txt`: ì›¹ ì‚¬ì´íŠ¸ì˜ ë£¨íŠ¸ ì£¼ì†Œì— ì ‘ê·¼í•  ìˆ˜ ìˆìœ¼ë©°, ì›¹ í¬ë¡¤ëŸ¬ ë´‡ì˜ ì ‘ê·¼ ê¶Œí•œì„ ê´€ë¦¬í•˜ëŠ” íŒŒì¼
      - [ì°¸ê³ ì‚¬ì´íŠ¸](https://seo.tbwakorea.com/blog/robots-txt-complete-guide/)
  - ìŠ¤í¬ë˜í•‘(scraping): íŠ¹ì • ì›¹ í˜ì´ì§€ì˜ íŠ¹ì • ë¶€ë¶„ì„ ìˆ˜ì§‘í•˜ëŠ” ê²ƒ
  - **Beautiful Soup** ë¼ì´ë¸ŒëŸ¬ë¦¬
    - `Beautiful Soup` ë€? HTML ë¬¸ì„œë¥¼ ë¶„ì„ & êµ¬ì¡°í™”í•´ì„œ ê°œë°œìê°€ ë„ì™€ì£¼ëŠ” ë„êµ¬ (í¬ë¡¤ë§ ë„êµ¬ê°€ ì•„ë‹Œ íŒŒì‹± ë„êµ¬)
    - `Beautiful Soup` ê°ì²´: HTML ë¬¸ì„œë¥¼ íŒŒì´ì¬ ê°ì²´ë¡œ ë³€í™˜í•˜ì—¬ íƒìƒ‰ ê°€ëŠ¥í•˜ê²Œ í•´ì£¼ëŠ” ê°ì²´
    - ì‚¬ìš©ë²•: `from bs4 import BeautifulSoup`
    - ì˜ˆì‹œ ì½”ë“œ
      ```python
      import requests
      from bs4 import BeautifulSoup

      # ìš”ì²­ ì£¼ì†Œ
      url = "https://example.com"

      # ìš”ì²­ - get(url) ë©”ì„œë“œ
      response = requests.get(url)

      # ìƒíƒœ ì½”ë“œ ì†ì„±
      status = response.status_code

      if status == 200:

            # beautifulsoup ê°ì²´ ìƒì„±
            # html.parser ìœ í˜•
            soup = BeautifulSoup(response.text, "html.parser")

            # BeautifulSoup.find(íƒœê·¸ì´ë¦„) : ë‹¨ì¼ íƒìƒ‰ ë©”ì„œë“œ -> ì²˜ìŒ ë‚˜ì˜¨ ìš”ì†Œë§Œ ë°˜í™˜í•œë‹¤.
            p_tag = soup.find("p")
            print(p_tag.text)

            # soup ì¸ìŠ¤í„´ìŠ¤ ë‚´ë¶€ì—ì„œ H1 íƒœê·¸ë¥¼ ì°¾ì•„ì„œ í…ìŠ¤íŠ¸ë¥¼ ì¶œë ¥
            h1_tag = soup.find("h1")
            print(h1_tag.text)
      ```

  - **ìš”ì†Œ(element) íƒìƒ‰**
    - ë‹¨ì¼ ìš”ì†Œ íƒìƒ‰: `BeatifulSoup.find(name, attrs)`
      - name : ì°¾ëŠ” íƒœê·¸ ì´ë¦„ ex) â€œpâ€, â€œdivâ€, â€œhiâ€
      - attrs : ì†ì„± ì¡°ê±´ì„ ë”•ì…”ë„ˆë¦¬ë¡œ ì‘ì„± ex) {â€classâ€:â€textâ€} â†’ í´ë˜ìŠ¤ ì´ë¦„ì´ â€œtextâ€ ì¸ ìš”ì†Œë¥¼ ì°¾ëŠ”ë‹¤.
      ```python
      p_tag = soup.find("p")
      print(p_tag.text)
      ```
    - ë³µìˆ˜ ìš”ì†Œ íƒìƒ‰: `BeautifulSoup.findAll(name, attrs)`
      - name : ì°¾ëŠ” íƒœê·¸ ì´ë¦„ ex) â€œpâ€, â€œdivâ€, â€œhiâ€
      - attrs : ì†ì„± ì¡°ê±´ì„ ë”•ì…”ë„ˆë¦¬ë¡œ ì‘ì„± ex) {â€classâ€:â€textâ€} â†’ í´ë˜ìŠ¤ ì´ë¦„ì´ â€œtextâ€ ì¸ ìš”ì†Œë¥¼ ì°¾ëŠ”ë‹¤.
      - ì•„ë¬´ê²ƒë„ ë°›ì•„ì˜¤ì§€ ëª»í–ˆì–´ë„ `ë¹ˆ ë¦¬ìŠ¤íŠ¸([])`ë¥¼ ë°˜í™˜í•œë‹¤.
      ```python
      import requests
      from bs4 import BeautifulSoup

      url = "https://quotes.toscrape.com/"
      response = requests.get(url)
      status = response.status_code

      if status == 200:
          soup = BeautifulSoup(response.text, "html.parser")

          # ë³µìˆ˜ ìš”ì†Œ íƒìƒ‰
          # span íƒœê·¸, classê°€ textì¸ ëª¨ë“  ìš”ì†Œì˜ í…ìŠ¤íŠ¸ ì¶œë ¥
          quote_text_list = soup.find_all("span", {"class": "text"})
          for text in quote_text_list:
              print(text.text)
      ```
      - **ë‹¨ì¼ ìš”ì†Œ, ë³µìˆ˜ ìš”ì†Œ íƒìƒ‰ì„ ëª¨ë‘ ì‚¬ìš©í•œ ì˜ˆì‹œ ì½”ë“œ**
          ```python
            import requests
            from bs4 import BeautifulSoup

            url = "https://quotes.toscrape.com/"
            response = requests.get(url)

            status = response.status_code

            if status == 200:
                # beautifulsoup ìƒì„±
                soup = BeautifulSoup(response.text, "html.parser")

                div_list = soup.findAll("div", {"class": "quote"})

                quote_author_list = []

                for quote in div_list:
                    # íƒœê·¸ span,  í´ë˜ìŠ¤ text ìš”ì†Œ íƒìƒ‰
                    quote_text = quote.find("span", {"class": "text"}).text

                    # ì¸ë¬¼ ì •ë³´ íƒìƒ‰
                    # íƒœê·¸ samll, í´ë˜ìŠ¤ author ìš”ì†Œ íƒìƒ‰
                    author_text = quote.find("small", {"class": "author"}).text

                    # quote_author_list ì— ì €ì¥
                    # {"quote" : ì¸ìš©ë¬¸ë°ì´í„°,"author":ì¸ë¬¼ ë°ì´í„°}
                    # quote_author_list ì— ì €ì¥(ì¶”ê°€ append)
                    quote_author_list.append(
                        {
                            "quote": quote_text,
                            "author": author_text,
                        }
                    )
          ```

- **pprint ëª¨ë“ˆ**
  - ë°ì´í„°ë¥¼ ë³´ê¸° ì¢‹ê²Œ ì¶œë ¥(pretty print)í•  ë•Œ ì‚¬ìš©í•˜ëŠ” ëª¨ë“ˆ
  - [pprint ëª¨ë“ˆ ì„¤ëª…](https://wikidocs.net/105471)

- **ì›¹ ë¸Œë¼ìš°ì € ìë™í™” ë„êµ¬**
  - **Selenium**
    - `selenium` : ì›¹ ë¸Œë¼ìš°ì €ë¥¼ ìë™ìœ¼ë¡œ ì œì–´í•  ìˆ˜ ìˆëŠ” ë„êµ¬
    - ì„¤ì¹˜: `pip install selenium`
    - **webdriver-manager**
      - ë¸Œë¼ìš°ì € ìë™í™”ë¥¼ ìœ„í•œ ì›¹ ë“œë¼ì´ë²„ ê´€ë¦¬ íŒ¨í‚¤ì§€
      - ì„¤ì¹˜: `pip install webdriver-manager`

---

- **WebDriver ê°ì²´**
  - ì›¹ ë¸Œë¼ìš°ì €ë¥¼ ì œì–´í•˜ëŠ” ë° ì‚¬ìš©ë˜ëŠ” í•µì‹¬ ê°ì²´
  - ì£¼ìš” ë©”ì„œë“œ ë° ì†ì„±
    - `webdriver.Chrome()` : í¬ë¡¬ìš© WebDriver ê°ì²´ ìƒì„±
    - `webdriver.get(ì£¼ì†Œ)` : í•´ë‹¹ ì£¼ì†Œì˜ ì›¹ í˜ì´ì§€ ì—´ê¸°
      ```python
      from selenium import webdriver
      from selenium.webdriver.chrome.service import Service
      from webdriver_manager.chrome import ChromeDriverManager

      service = Service(ChromeDriverManager().install())
      driver = webdriver.Chrome(service=service)
      driver.get("https://www.naver.com")
      driver.quit()
      ```
      - ì½”ë“œ ë¶„ì„
        - 1) Selenium ë° í•„ìš”í•œ ëª¨ë“ˆ ì„í¬íŠ¸
            ```python
            from selenium import webdriver
            from selenium.webdriver.chrome.service import Service
            from webdriver_manager.chrome import ChromeDriverManager
            ```
            - `selenium` : ì›¹ ë¸Œë¼ìš°ì € ìë™í™”ë¥¼ ìœ„í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬
            - `webdriver` : Selenium WebDriverë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ í•„ìš”
            - `Service` : ChromeDriver ì„œë¹„ìŠ¤ë¥¼ ì„¤ì •í•˜ê¸° ìœ„í•´ ì‚¬ìš©
            - `ChromeDriverManager` : ChromeDriverë¥¼ ìë™ìœ¼ë¡œ ì„¤ì¹˜í•˜ê³  ê´€ë¦¬í•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬
        - 2) ChromeDriver ì„œë¹„ìŠ¤ ì„¤ì¹˜ ë° ì„¤ì •
            ```python
            service = Service(ChromeDriverManager().install())
            driver = webdriver.Chrome(service=service)
            ```
            - `ChromeDriverManager().install()` : ChromeDriverë¥¼ ìë™ìœ¼ë¡œ ë‹¤ìš´ë¡œë“œí•˜ê³  ì„¤ì¹˜í•œë‹¤.
            - `Service()` : ì„¤ì¹˜ëœ ChromeDriverë¥¼ ì„œë¹„ìŠ¤ë¡œ ì„¤ì •í•œë‹¤.
            - `webdriver.chomre(serivce=service)` : ì„¤ì •ëœ ì„œë¹„ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ Chrome ë¸Œë¼ìš°ì € ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•œë‹¤.
        - 3) ì£¼ì†Œì— í•´ë‹¹í•˜ëŠ” ì›¹í˜ì´ì§€ ì—´ê¸°
            ```python
            driver.get("https://naver.com")
            ```
            - `driver.get(url)` : ì£¼ì–´ì§„ URLë¡œ ë¸Œë¼ìš°ì €ë¥¼ ì—°ë‹¤. Selenium WebDriver ê°€ í•´ë‹¹ í˜ì´ì§€ë¡œ ì´ë™í•œë‹¤.
        - 4) ë¸Œë¼ìš°ì € ë‹«ê¸°
            ```python
            driver.quit()
            ```
            - `driver.quit()` : WebDriver ì„¸ì…˜ì„ ì¢…ë£Œí•˜ê³  ë¸Œë¼ìš°ì € ì°½ì„ ë‹«ëŠ”ë‹¤.
    - `webdriver.find_element(ì¡°ê±´, ê°’)` : ì¡°ê±´ê³¼ ê°’ì— í•´ë‹¹í•˜ëŠ” ìš”ì†Œ ì¤‘ ì²˜ìŒ ì°¾ì€ ë‹¨ì¼ ìš”ì†Œ ë°˜í™˜
      ```python
      from selenium.webdriver.common.by import By 
      p_tag = driver.find_element(By.TAG_NAME, "p").text
      print(p_tag)
      ```
      - ì½”ë“œ ë¶„ì„
        - `By` : ìš”ì†Œë¥¼ ì°¾ê¸° ìœ„í•œ ì¡°ê±´ì„ ì„¤ì •í•˜ëŠ” ë° ì‚¬ìš©ëœë‹¤. ì˜ˆë¥¼ ë“¤ì–´, íƒœê·¸ ì´ë¦„, í´ë˜ìŠ¤ ì´ë¦„, ID ë“±ì„ ì§€ì •í•  ìˆ˜ ìˆë‹¤.
        - `driver.find_element(By.TAG_NAME,"p").text` : í˜ì´ì§€ì—ì„œ ì²« ë²ˆì§¸ `<p>` íƒœê·¸ ìš”ì†Œë¥¼ ì°¾ëŠ”ë‹¤. ê·¸ë¦¬ê³  ìš”ì†Œì˜ í…ìŠ¤íŠ¸ ë‚´ìš©ì„ ë°˜í™˜í•œë‹¤.
        - ë‚˜ë¨¸ì§€ëŠ” ìœ„ì™€ ë™ì¼
    - `webdriver.find_elements(ì¡°ê±´, ê°’)` : ì¡°ê±´ê³¼ ê°’ì— í•´ë‹¹í•˜ëŠ” ëª¨ë“  ìš”ì†Œ ë°˜í™˜
      ```python
      quote_text_list = driver.find_elements(By.CLASS_NAME, "text")
      for quote in quote_text_list:
          print(quote.text)
      ```
    - `webdriver.click()` : í•´ë‹¹ ìš”ì†Œì— ëŒ€í•´ í´ë¦­ ìƒí˜¸ì‘ìš© ì‹¤í–‰
      ```python
      # ê²€ìƒ‰ ë°•ìŠ¤ ì°¾ê¸°
      search_box = driver.find_element(By.ID, "query")

      # íŒŒì´ì¬ ì…ë ¥
      search_box.send_keys("Python")

      # ê²€ìƒ‰ ë²„íŠ¼ ì°¾ê¸°
      button = driver.find_element(By.CLASS_NAME, "btn_search")
      
      # ë²„íŠ¼ ëˆ„ë¥´ê¸°
      button.click()
      ```
    - `webdriver.page_source` : í˜„ì¬ í˜ì´ì§€ì˜ HTML ë¬¸ì„œ ì •ë³´
    - **ëŒ€ê¸°(wait) ë§¤ì»¤ë‹ˆì¦˜**
      - `ì•”ì‹œì  ëŒ€ê¸°(Implicit Wait)`
        ```python
        driver.implicitly_wait(10)
        try:
            element = driver.find_element(By.CLASS_NAME, "element_class")
            print("ì¡°ê±´ì— ë§Œì¡±í•˜ëŠ” ìš”ì†Œë¥¼ ì°¾ì•˜ìŠµë‹ˆë‹¤.")
        except:
            print("ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ìš”ì†Œë¥¼ ì°¾ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.")
        driver.quit()
        ```
      - `Explicit Wait(ëª…ì‹œì  ëŒ€ê¸°)`: íŠ¹ì • ì¡°ê±´ì„ ë§Œì¡±í•  ë•Œê¹Œì§€ ìµœëŒ€ ì‹œê°„(ì´ˆ) ë§Œí¼ ëŒ€ê¸° (ìˆ˜ì—… ì‹œê°„ì— ë„˜ì–´ê°)
---
### ì–´ë ¤ì› ë˜ ë‚´ìš© ğŸ“š

- ì•”ì‹œì , ëª…ì‹œì  ëŒ€ê¸°
- ìš”ì†Œ ì°¾ê¸°
- html ë¬¸ì„œì— ì ‘ê·¼í•´ì„œ ìš”ì†Œ ê°€ì ¸ì˜¤ê¸°
  - íƒœê·¸ë“¤ì´ ë„ˆë¬´ ë§ì•„ì„œ í—·ê°ˆë ¸ë‹¤
---
### ê¶ê¸ˆí•œ ë‚´ìš©ê³¼ ë¶€ì¡±í•œ ë‚´ìš© ğŸ™‹ğŸ»

- ì•”ì‹œì , ëª…ì‹œì ì„ ì–´ë–»ê²Œ ì‚¬ìš©ë˜ëŠ”ì§€ ë” ì°¾ì•„ë´ì•¼ê² ë‹¤.

---
### ëŠë‚€ ì  ğŸ’¡

- ì†”ì§íˆ í•œ ë²ˆì— ì™¸ì›Œì§€ì§€ ì•Šì„ ê²ƒì„ ì•ˆë‹¤... ë‚˜ëŠ” ì¨ë³´ë©´ì„œ ìµí˜€ì•¼ê² ë‹¤.
- íŒŒì´ì¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í™œìš©í•´ì„œ ìŠ¤í¬ë˜í•‘ í•˜ëŠ”ê²Œ ì‹ ê¸°í–ˆë‹¤. ë‚´ê°€ ë¸Œë¼ìš°ì €ë¥¼ ì—´ì§€ ì•Šì•„ë„ ì½”ë“œ ì—´ê³  ë‹«ê³  ì•ìœ¼ë¡œê°€ ë” ê¸°ëŒ€ëœë‹¤.
---